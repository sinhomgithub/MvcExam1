@model MvcExam1.Models.客戶資料

@{
    ViewBag.Title = "客戶資料明細";
}

<h2>客戶資料明細</h2>


<div>
    <h4>客戶資料</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.客戶名稱)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.客戶名稱)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.統一編號)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.統一編號)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.電話)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.電話)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.傳真)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.傳真)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.地址)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.地址)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>
        
    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>
@Html.HiddenFor(model => model.Id)

<hr />

<h3>客戶聯絡人清單</h3>

@{  
    var contacts = (IEnumerable<MvcExam1.Models.客戶聯絡人>)ViewBag.客戶聯絡人;   
}

@using (Html.BeginForm())
{
    if (contacts != null && contacts.Count() > 0)
    {
    <table class="table">   
        <tr>
            <th>                        
                @Html.DisplayNameFor(model => contacts.FirstOrDefault().職稱)
            </th>
            <th>
                @Html.DisplayNameFor(model => contacts.FirstOrDefault().姓名)
            </th>
            <th>
                @Html.DisplayNameFor(model => contacts.FirstOrDefault().Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => contacts.FirstOrDefault().手機)
            </th>
            <th>
                @Html.DisplayNameFor(model => contacts.FirstOrDefault().電話)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.客戶名稱)
            </th>
            <th></th>
        </tr>
    

    
        @{     
            var data = Model.客戶聯絡人.ToArray();           
        }

        @for (int i = 0; i < data.Length; i++)
        {
            <tr>
                <td>                    
                    <div class="col-md-10">                                                                          
                        @Html.EditorFor(model => data[i].職稱, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => data[i].職稱, "", new { @class = "text-danger" })
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => data[i].姓名)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => data[i].Email)
                </td>
                <td>                    
                    <div class="col-md-10">
                        @Html.EditorFor(model => data[i].手機, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => data[i].手機, "", new { @class = "text-danger" })
                    </div>
                </td>
                <td>                    
                    <div class="col-md-10">
                        @Html.EditorFor(model => data[i].電話, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => data[i].電話, "", new { @class = "text-danger" })
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => data[i].客戶資料.客戶名稱)                    

                    @Html.HiddenFor(model=> data[i].Id)
                </td>           
            </tr>
        }

        <tr>
            <td>                                                                
                @Html.Hidden("客戶資料Id", Model.Id)
                <input type="submit" value="Save" class="btn btn-default" />                
            </td>
        </tr>
    </table>    
    }

}





